<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Collection Header -->
    <div class="flex justify-between items-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800"><%= params[:title] %></h1>
        <button class="text-gray-600 hover:text-gray-900 transition duration-200">
            &larr; Back
        </button>
    </div>

    <!-- Regular Snacks Section -->
    <div>
        <h2 class="text-2xl font-semibold text-gray-700 mb-4">Products</h2>
        <!-- Snack Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <% @category.products.each do |product| %>
                    <!-- Snack Card -->
                    <div class="bg-white shadow-lg rounded-lg overflow-hidden transition duration-300 hover:shadow-2xl">
                        <!-- Product Image -->
                        <div class="h-40 md:h-48 lg:h-56 bg-cover bg-center"
                            style="background-image: url('<%= product.images.attached? ? url_for(product.images.first) : 'https://via.placeholder.com/500' %>');">
                        </div>
                        <!-- Product Info -->
                        <div class="flex flex-col justify-between p-4 border-t-2 border-purple-500">
                            <!-- Title and Price -->
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-800 group-hover:text-purple-600 transition">
                                    <%= product.title %>
                                </h3>
                                <p class="text-lg font-semibold text-gray-800">
                                    â‚¹<%= product.price %>
                                </p>
                            </div>
                            <div class="mt-4">
                                <%= link_to "View Details", category_product_path(@category.title, product.title), class: "inline-block bg-white hover:bg-purple-100 text-purple-600 border border-purple-600 font-bold py-2 px-4 rounded-lg transition"%>
                            </div>
                            <div class="mt-2">
                                <%= link_to "Add To Cart", add_to_cart_path(product_title: product.title), 
                                    data: { turbo_method: :post }, 
                                    class: "inline-block bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition" %>
                            </div>
                        </div>
                    </div>
            <% end %>
        </div>
    </div>
</div>
